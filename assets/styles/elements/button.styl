button-focus($button-color)
  box-shadow 0 0 0 3px lighten($button-color, 20)

button-focus-active($button-color)
  box-shadow 0 0 0 3px lighten($button-color, 20), inset 0 3px 5px rgba(0, 0, 0, 0.3)

@keyframes button-loading
  0%
    -webkit-transform rotate(0deg)
    transform rotate(0deg)
  100%
    -webkit-transform rotate(360deg)
    transform rotate(360deg)

.button
  position relative
  display inline-block
  background-color $palette-accent-secondary
  text-align center
  vertical-align middle
  cursor pointer
  border none
  border-radius ($gutter-size / 3)
  white-space nowrap
  user-select none
  padding ($gutter-size / 2) $gutter-size
  color $palette-lighter
  transition all ($animation-speed / 2)

  &:hover
    background-color darken($palette-accent-secondary, 5)

  &:focus
    outline none
    button-focus($palette-accent-secondary)

  &[disabled]
    opacity 0.5

.button.primary
  background-color $palette-accent-primary

  &:hover
    background-color darken($palette-accent-primary, 5)

  &:focus
    button-focus($palette-accent-primary)

  &:focus:active
    button-focus-active($palette-accent-primary)

.button.danger
  background-color $palette-danger

  &:hover
    background-color darken($palette-danger, 5)

.button.block
  display block
  width 100%

.button.loading
  color transparent

  &::after
    animation button-loading 500ms infinite linear
    border .2rem solid $palette-lighter
    border-radius .8rem
    border-right-color transparent
    border-top-color transparent
    content ''
    display block
    height 1.6rem
    left 50%
    margin-left -.8rem
    margin-top -.8rem
    position absolute
    top 50%
    width 1.6rem

// --- Other Contexts ----------------------------------------------------------

.modal-footer .button + .button
  margin-left ($gutter-size / 3)
